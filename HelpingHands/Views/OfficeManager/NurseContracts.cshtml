@using HelpingHands.Models
@model List<CareContractVM>

<section class="section profile">
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Table with hoverable rows</h5>
                    @if (Model != null && Model.Any())
                    {
                        <form asp-action="NurseContracts" method="get">
                            <div class="row mb-3">
                                <input type="hidden" name="nurseId" value="@Model.FirstOrDefault()?.Nurse" />
                                <label for="selectedSuburb" class="col-md-2 col-form-label">Contract Status</label>
                                <div class="col-md-3">
                                    
                                        <select name="statusChar" class="form-select" aria-label="Default select example">
                                            @foreach (var item in ViewBag.StatusList)
                                            {
                                                <option value="@item.Value">@item.Text</option>
                                            }
                                        </select>

                                    
                                </div>
                                <div class="col-md-2">
                                    <input type="submit" value="Filter by Status" class="btn btn-primary" style="color:#fff; background-color:#16697a;">
                                </div>
                                <!-- Other form elements -->
                            </div>
                        </form>

                    <!-- Table with hoverable rows -->
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th scope="col">Contract No.</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">First Name</th>
                                    <th scope="col">Surname</th>
                                    <th scope="col">Start Date</th>
                                    <th scope="col">End Date</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var contract in Model)
                                {
                                    <tr>
                                        <td>@contract.ContractNo</td>
                                        <td>@contract.ContractDate.ToString("yyyy-MM-dd")</td>
                                        <td>@contract.FirstName</td>
                                        <td>@contract.Surname</td>
                                        <td>@contract.StartDate.ToString("yyyy-MM-dd")</td>
                                        <td>@contract.EndDate.ToString("yyyy-MM-dd")</td>
                                        <td>@contract.Status</td>
                                        <td>
                                            <a asp-action="GetContract" asp-controller="OfficeManager" asp-route-contractId="@contract.ContractId">
                                                <i class='bx bx-info-circle' style='color:#16697a'></i>
                                            </a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>

                    }
                    else
                    {
                        <form asp-action="NurseContracts" method="get">
                            <div class="row mb-3">
                                <input type="hidden" name="nurseId" value="@Model.FirstOrDefault()?.Nurse" />
                                <label for="selectedSuburb" class="col-md-2 col-form-label">Contract Status</label>
                                <div class="col-md-3">

                                    <select name="statusChar" class="form-select" aria-label="Default select example">
                                        @foreach (var item in ViewBag.StatusList)
                                        {
                                            <option value="@item.Value">@item.Text</option>
                                        }
                                    </select>


                                </div>
                                <div class="col-md-2">
                                    <input type="submit" value="Filter by Status" class="btn btn-primary" style="color:#fff; background-color:#16697a;">
                                </div>
                                <!-- Other form elements -->
                            </div>
                        </form>
                    <hr />
                    <br />


                    <h2>No nurses found based on the selected suburb.</h2>

                    }
            

                </div>
            </div>

        </div>
    </div>
</section>
